<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç­›é€‰æ’åºäº¤äº’åŸå‹ - ç”µå•†ç®¡ç†ç³»ç»Ÿ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: #f5f5f5;
            padding-bottom: 60px;
            -webkit-tap-highlight-color: transparent;
        }

        /* é¡¶éƒ¨æœç´¢æ  */
        .header-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: #fff;
            padding: 10px 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            z-index: 100;
        }

        .search-box {
            flex: 1;
            position: relative;
        }

        .search-input {
            width: 100%;
            height: 36px;
            padding: 0 35px 0 35px;
            border: 1px solid #e0e0e0;
            border-radius: 18px;
            font-size: 14px;
            background: #f8f8f8;
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #999;
        }

        .clear-icon {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #999;
            cursor: pointer;
            display: none;
        }

        .search-input:not(:placeholder-shown) + .search-icon + .clear-icon {
            display: block;
        }

        /* æ’åºå’Œç­›é€‰æŒ‰é’® */
        .action-buttons {
            display: flex;
            gap: 8px;
        }

        .sort-btn, .filter-btn {
            position: relative;
            padding: 8px 12px;
            background: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 4px;
            white-space: nowrap;
        }

        .filter-btn.active {
            color: #007AFF;
            border-color: #007AFF;
        }

        .filter-badge {
            display: none;
            position: absolute;
            top: -6px;
            right: -6px;
            background: #FF3B30;
            color: #fff;
            font-size: 10px;
            padding: 2px 5px;
            border-radius: 10px;
            min-width: 16px;
            text-align: center;
        }

        .filter-badge.show {
            display: block;
        }

        /* æ’åºä¸‹æ‹‰èœå• */
        .sort-dropdown {
            position: absolute;
            top: 60px;
            right: 95px;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 101;
            display: none;
            min-width: 140px;
        }

        .sort-dropdown.show {
            display: block;
        }

        .sort-option {
            padding: 12px 16px;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .sort-option:not(:last-child) {
            border-bottom: 1px solid #f0f0f0;
        }

        .sort-option:hover {
            background: #f8f8f8;
        }

        .sort-option.active {
            color: #007AFF;
        }

        .sort-icon {
            color: #007AFF;
            display: none;
        }

        .sort-option.active .sort-icon {
            display: block;
        }

        /* é®ç½©å±‚ */
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.3);
            z-index: 200;
        }

        .overlay.show {
            display: block;
        }

        /* ç­›é€‰é¢æ¿ */
        .filter-panel {
            position: fixed;
            left: 0;
            right: 0;
            bottom: -100%;
            background: #fff;
            z-index: 201;
            transition: bottom 0.3s ease;
            display: flex;
            flex-direction: column;
            max-height: 80vh;
        }

        .filter-panel.show {
            bottom: 0;
        }

        .filter-header {
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .filter-title {
            font-size: 16px;
            font-weight: 500;
        }

        .filter-count {
            font-size: 14px;
            color: #007AFF;
        }

        .filter-content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        /* å·¦ä¾§å¯¼èˆª */
        .filter-nav {
            width: 100px;
            background: #f8f8f8;
            overflow-y: auto;
        }

        .filter-nav-item {
            padding: 15px 10px;
            font-size: 14px;
            cursor: pointer;
            border-left: 3px solid transparent;
            position: relative;
        }

        .filter-nav-item.active {
            background: #fff;
            border-left-color: #007AFF;
            color: #007AFF;
        }

        .filter-nav-badge {
            position: absolute;
            top: 12px;
            right: 8px;
            width: 6px;
            height: 6px;
            background: #FF3B30;
            border-radius: 50%;
            display: none;
        }

        .filter-nav-item.has-selection .filter-nav-badge {
            display: block;
        }

        /* å³ä¾§ç­›é€‰é¡¹ */
        .filter-options {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
        }

        .filter-section {
            display: none;
        }

        .filter-section.active {
            display: block;
        }

        .filter-section-title {
            font-size: 14px;
            color: #666;
            margin-bottom: 12px;
        }

        /* æ ‡ç­¾é€‰æ‹©å™¨ */
        .tag-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .tag-item {
            padding: 8px 16px;
            background: #f0f0f0;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            border: 1px solid transparent;
        }

        .tag-item.selected {
            background: #E8F4FF;
            color: #007AFF;
            border-color: #007AFF;
        }

        /* æ—¶é—´é€‰æ‹©å™¨ */
        .time-range {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }

        .time-input {
            flex: 1;
            padding: 10px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
        }

        .time-separator {
            color: #999;
        }

        /* å“ç‰Œç‰¹æ®Šæ ·å¼ */
        .brand-section {
            margin-bottom: 20px;
        }

        .brand-label {
            font-size: 13px;
            color: #999;
            margin-bottom: 8px;
        }

        .all-brands-link {
            display: inline-block;
            margin-top: 12px;
            color: #007AFF;
            font-size: 14px;
            cursor: pointer;
            text-decoration: underline;
        }

        /* æˆå‘˜é€‰æ‹©å™¨ */
        .member-search {
            position: relative;
            margin-bottom: 15px;
        }

        .member-search-input {
            width: 100%;
            padding: 10px 35px 10px 10px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
        }

        .member-search-icon {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: #999;
        }

        .member-group {
            margin-bottom: 20px;
        }

        .member-group-title {
            font-size: 13px;
            color: #666;
            margin-bottom: 10px;
            padding: 5px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .member-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .member-item {
            padding: 10px;
            background: #f8f8f8;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .member-item.selected {
            background: #E8F4FF;
            color: #007AFF;
        }

        .member-check {
            color: #007AFF;
            display: none;
        }

        .member-item.selected .member-check {
            display: block;
        }

        /* åº•éƒ¨æŒ‰é’® */
        .filter-footer {
            padding: 10px 15px;
            border-top: 1px solid #e0e0e0;
            display: flex;
            gap: 10px;
            background: #fff;
        }

        .reset-btn, .confirm-btn {
            flex: 1;
            padding: 12px;
            border-radius: 6px;
            font-size: 15px;
            cursor: pointer;
            border: none;
        }

        .reset-btn {
            background: #f0f0f0;
            color: #333;
        }

        .confirm-btn {
            background: #007AFF;
            color: #fff;
        }

        /* åˆ—è¡¨åŒºåŸŸ */
        .content-area {
            margin-top: 60px;
            padding: 15px;
        }

        .list-item {
            background: #fff;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        /* äºŒçº§é¡µé¢ */
        .sub-page {
            position: fixed;
            top: 0;
            left: 100%;
            right: -100%;
            bottom: 0;
            background: #fff;
            z-index: 202;
            transition: left 0.3s ease, right 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .sub-page.show {
            left: 0;
            right: 0;
        }

        .sub-header {
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .back-btn {
            cursor: pointer;
            color: #007AFF;
        }

        .sub-title {
            font-size: 16px;
            font-weight: 500;
        }

        .sub-content {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
        }

        /* å·²é€‰æ ‡ç­¾ */
        .selected-tags {
            display: none;
            padding: 10px 15px;
            background: #f8f8f8;
            border-bottom: 1px solid #e0e0e0;
            flex-wrap: wrap;
            gap: 8px;
        }

        .selected-tags.show {
            display: flex;
        }

        .selected-tag {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 5px 10px;
            background: #E8F4FF;
            color: #007AFF;
            border-radius: 4px;
            font-size: 13px;
        }

        .selected-tag-close {
            cursor: pointer;
            font-size: 16px;
        }

        /* å•é€‰æŒ‰é’® */
        .radio-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .radio-item {
            padding: 12px;
            background: #f8f8f8;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .radio-item.selected {
            background: #E8F4FF;
            color: #007AFF;
        }

        .radio-circle {
            width: 18px;
            height: 18px;
            border: 2px solid #ddd;
            border-radius: 50%;
            position: relative;
        }

        .radio-item.selected .radio-circle {
            border-color: #007AFF;
        }

        .radio-circle::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 10px;
            height: 10px;
            background: #007AFF;
            border-radius: 50%;
            display: none;
        }

        .radio-item.selected .radio-circle::after {
            display: block;
        }
    </style>
</head>
<body>
    <!-- é¡¶éƒ¨æœç´¢æ  -->
    <div class="header-bar">
        <div class="search-box">
            <input type="text" class="search-input" placeholder="æœç´¢å…³é”®è¯">
            <span class="search-icon">ğŸ”</span>
            <span class="clear-icon" onclick="clearSearch()">âœ•</span>
        </div>
        <div class="action-buttons">
            <button class="sort-btn" onclick="toggleSort()">
                <span>æ’åº</span>
                <span>â–¼</span>
            </button>
            <button class="filter-btn" id="filterBtn" onclick="openFilter()">
                <span>ç­›é€‰</span>
                <span>â˜°</span>
                <span class="filter-badge" id="filterBadge">0</span>
            </button>
        </div>
    </div>

    <!-- æ’åºä¸‹æ‹‰èœå• -->
    <div class="sort-dropdown" id="sortDropdown">
        <div class="sort-option active" onclick="selectSort(this, 'time-desc')">
            <span>æ—¶é—´ä»æ–°åˆ°æ—§</span>
            <span class="sort-icon">âœ“</span>
        </div>
        <div class="sort-option" onclick="selectSort(this, 'time-asc')">
            <span>æ—¶é—´ä»æ—§åˆ°æ–°</span>
            <span class="sort-icon">âœ“</span>
        </div>
        <div class="sort-option" onclick="selectSort(this, 'price-desc')">
            <span>ä»·æ ¼ä»é«˜åˆ°ä½</span>
            <span class="sort-icon">âœ“</span>
        </div>
        <div class="sort-option" onclick="selectSort(this, 'price-asc')">
            <span>ä»·æ ¼ä»ä½åˆ°é«˜</span>
            <span class="sort-icon">âœ“</span>
        </div>
    </div>

    <!-- é®ç½©å±‚ -->
    <div class="overlay" id="overlay" onclick="closeAll()"></div>

    <!-- ç­›é€‰é¢æ¿ -->
    <div class="filter-panel" id="filterPanel">
        <div class="filter-header">
            <div class="filter-title">ç­›é€‰</div>
            <div class="filter-count" id="filterCount">å·²é€‰ 0 é¡¹</div>
        </div>

        <div class="selected-tags" id="selectedTags"></div>

        <div class="filter-content">
            <!-- å·¦ä¾§å¯¼èˆª -->
            <div class="filter-nav">
                <div class="filter-nav-item active" data-filter="brand" onclick="switchFilter(this)">
                    å“ç‰Œ
                    <span class="filter-nav-badge"></span>
                </div>
                <div class="filter-nav-item" data-filter="category" onclick="switchFilter(this)">
                    å“ç±»
                    <span class="filter-nav-badge"></span>
                </div>
                <div class="filter-nav-item" data-filter="condition" onclick="switchFilter(this)">
                    æˆè‰²
                    <span class="filter-nav-badge"></span>
                </div>
                <div class="filter-nav-item" data-filter="status" onclick="switchFilter(this)">
                    å•†å“çŠ¶æ€
                    <span class="filter-nav-badge"></span>
                </div>
                <div class="filter-nav-item" data-filter="warehouse" onclick="switchFilter(this)">
                    ä»“åº“
                    <span class="filter-nav-badge"></span>
                </div>
                <div class="filter-nav-item" data-filter="createTime" onclick="switchFilter(this)">
                    åˆ›å»ºæ—¶é—´
                    <span class="filter-nav-badge"></span>
                </div>
                <div class="filter-nav-item" data-filter="firstFollow" onclick="switchFilter(this)">
                    é¦–æ¬¡è·Ÿè¿›æ—¶é—´
                    <span class="filter-nav-badge"></span>
                </div>
                <div class="filter-nav-item" data-filter="followInterval" onclick="switchFilter(this)">
                    è·Ÿè¿›é—´éš”æ—¶é—´
                    <span class="filter-nav-badge"></span>
                </div>
                <div class="filter-nav-item" data-filter="source" onclick="switchFilter(this)">
                    çº¿ç´¢æ¥æº
                    <span class="filter-nav-badge"></span>
                </div>
                <div class="filter-nav-item" data-filter="staff" onclick="switchFilter(this)">
                    è·Ÿè¿›å®¢æœ
                    <span class="filter-nav-badge"></span>
                </div>
                <div class="filter-nav-item" data-filter="appraiser" onclick="switchFilter(this)">
                    é‰´å®šå¸ˆ
                    <span class="filter-nav-badge"></span>
                </div>
            </div>

            <!-- å³ä¾§ç­›é€‰é¡¹ -->
            <div class="filter-options">
                <!-- å“ç‰Œç­›é€‰ -->
                <div class="filter-section active" data-section="brand">
                    <div class="brand-section">
                        <div class="brand-label">æ¨èå“ç‰Œ</div>
                        <div class="tag-list">
                            <div class="tag-item" onclick="toggleTag(this, 'brand', 'HermÃ¨s')">HermÃ¨s</div>
                            <div class="tag-item" onclick="toggleTag(this, 'brand', 'Chanel')">Chanel</div>
                            <div class="tag-item" onclick="toggleTag(this, 'brand', 'LV')">Louis Vuitton</div>
                            <div class="tag-item" onclick="toggleTag(this, 'brand', 'Dior')">Dior</div>
                            <div class="tag-item" onclick="toggleTag(this, 'brand', 'Gucci')">Gucci</div>
                            <div class="tag-item" onclick="toggleTag(this, 'brand', 'Prada')">Prada</div>
                        </div>
                        <a class="all-brands-link" onclick="openAllBrands()">æŸ¥çœ‹å…¨éƒ¨å“ç‰Œ ></a>
                    </div>
                </div>

                <!-- å“ç±»ç­›é€‰ -->
                <div class="filter-section" data-section="category">
                    <div class="tag-list">
                        <div class="tag-item" onclick="toggleTag(this, 'category', 'æ‰‹è¢‹')">æ‰‹è¢‹</div>
                        <div class="tag-item" onclick="toggleTag(this, 'category', 'é…é¥°')">é…é¥°</div>
                        <div class="tag-item" onclick="toggleTag(this, 'category', 'é‹å±¥')">é‹å±¥</div>
                        <div class="tag-item" onclick="toggleTag(this, 'category', 'æœè£…')">æœè£…</div>
                        <div class="tag-item" onclick="toggleTag(this, 'category', 'è…•è¡¨')">è…•è¡¨</div>
                        <div class="tag-item" onclick="toggleTag(this, 'category', 'ç å®')">ç å®</div>
                    </div>
                </div>

                <!-- æˆè‰²ç­›é€‰ -->
                <div class="filter-section" data-section="condition">
                    <div class="tag-list">
                        <div class="tag-item" onclick="toggleTag(this, 'condition', 'å…¨æ–°')">å…¨æ–°</div>
                        <div class="tag-item" onclick="toggleTag(this, 'condition', '95æ–°')">95æ–°</div>
                        <div class="tag-item" onclick="toggleTag(this, 'condition', '9æˆæ–°')">9æˆæ–°</div>
                        <div class="tag-item" onclick="toggleTag(this, 'condition', '8æˆæ–°')">8æˆæ–°</div>
                        <div class="tag-item" onclick="toggleTag(this, 'condition', '7æˆæ–°')">7æˆæ–°</div>
                        <div class="tag-item" onclick="toggleTag(this, 'condition', '6æˆæ–°åŠä»¥ä¸‹')">6æˆæ–°åŠä»¥ä¸‹</div>
                    </div>
                </div>

                <!-- å•†å“çŠ¶æ€ç­›é€‰ -->
                <div class="filter-section" data-section="status">
                    <div class="tag-list">
                        <div class="tag-item" onclick="toggleTag(this, 'status', 'å…¨éƒ¨')">å…¨éƒ¨</div>
                        <div class="tag-item" onclick="toggleTag(this, 'status', 'åœ¨åº“')">åœ¨åº“</div>
                        <div class="tag-item" onclick="toggleTag(this, 'status', 'åœ¨å”®')">åœ¨å”®</div>
                        <div class="tag-item" onclick="toggleTag(this, 'status', 'é”å®š')">é”å®š</div>
                        <div class="tag-item" onclick="toggleTag(this, 'status', 'å”®å‡º')">å”®å‡º</div>
                    </div>
                </div>

                <!-- ä»“åº“ç­›é€‰ï¼ˆå•é€‰ï¼‰ -->
                <div class="filter-section" data-section="warehouse">
                    <div class="radio-list">
                        <div class="radio-item" onclick="toggleRadio(this, 'warehouse', 'å…¨éƒ¨')">
                            <span>å…¨éƒ¨ä»“åº“</span>
                            <span class="radio-circle"></span>
                        </div>
                        <div class="radio-item" onclick="toggleRadio(this, 'warehouse', 'åŒ—äº¬ä»“')">
                            <span>åŒ—äº¬ä»“</span>
                            <span class="radio-circle"></span>
                        </div>
                        <div class="radio-item" onclick="toggleRadio(this, 'warehouse', 'ä¸Šæµ·ä»“')">
                            <span>ä¸Šæµ·ä»“</span>
                            <span class="radio-circle"></span>
                        </div>
                        <div class="radio-item" onclick="toggleRadio(this, 'warehouse', 'æ·±åœ³ä»“')">
                            <span>æ·±åœ³ä»“</span>
                            <span class="radio-circle"></span>
                        </div>
                        <div class="radio-item" onclick="toggleRadio(this, 'warehouse', 'æˆéƒ½ä»“')">
                            <span>æˆéƒ½ä»“</span>
                            <span class="radio-circle"></span>
                        </div>
                    </div>
                </div>

                <!-- åˆ›å»ºæ—¶é—´ç­›é€‰ -->
                <div class="filter-section" data-section="createTime">
                    <div class="filter-section-title">é€‰æ‹©æ—¶é—´èŒƒå›´</div>
                    <div class="time-range">
                        <input type="date" class="time-input" id="startDate" onchange="updateTimeFilter()">
                        <span class="time-separator">è‡³</span>
                        <input type="date" class="time-input" id="endDate" onchange="updateTimeFilter()">
                    </div>
                </div>

                <!-- é¦–æ¬¡è·Ÿè¿›æ—¶é—´ç­›é€‰ -->
                <div class="filter-section" data-section="firstFollow">
                    <div class="tag-list">
                        <div class="tag-item" onclick="toggleTag(this, 'firstFollow', '<30åˆ†é’Ÿ')"><30åˆ†é’Ÿ</div>
                        <div class="tag-item" onclick="toggleTag(this, 'firstFollow', '<1å°æ—¶')"><1å°æ—¶</div>
                        <div class="tag-item" onclick="toggleTag(this, 'firstFollow', '1-2å°æ—¶')">1-2å°æ—¶</div>
                        <div class="tag-item" onclick="toggleTag(this, 'firstFollow', '2-6å°æ—¶')">2-6å°æ—¶</div>
                        <div class="tag-item" onclick="toggleTag(this, 'firstFollow', '6-12å°æ—¶')">6-12å°æ—¶</div>
                        <div class="tag-item" onclick="toggleTag(this, 'firstFollow', '12-24å°æ—¶')">12-24å°æ—¶</div>
                        <div class="tag-item" onclick="toggleTag(this, 'firstFollow', '>24å°æ—¶')">>24å°æ—¶</div>
                    </div>
                </div>

                <!-- è·Ÿè¿›é—´éš”æ—¶é—´ç­›é€‰ -->
                <div class="filter-section" data-section="followInterval">
                    <div class="tag-list">
                        <div class="tag-item" onclick="toggleTag(this, 'followInterval', '<6å°æ—¶')"><6å°æ—¶</div>
                        <div class="tag-item" onclick="toggleTag(this, 'followInterval', '6-24å°æ—¶')">6-24å°æ—¶</div>
                        <div class="tag-item" onclick="toggleTag(this, 'followInterval', '24-48å°æ—¶')">24-48å°æ—¶</div>
                        <div class="tag-item" onclick="toggleTag(this, 'followInterval', '>48å°æ—¶')">>48å°æ—¶</div>
                    </div>
                </div>

                <!-- çº¿ç´¢æ¥æºç­›é€‰ -->
                <div class="filter-section" data-section="source">
                    <div class="tag-list">
                        <div class="tag-item" onclick="toggleTag(this, 'source', 'å¤§ä¼—ç‚¹è¯„')">å¤§ä¼—ç‚¹è¯„æœç´¢</div>
                        <div class="tag-item" onclick="toggleTag(this, 'source', 'å°çº¢ä¹¦')">å°çº¢ä¹¦å’¨è¯¢</div>
                        <div class="tag-item" onclick="toggleTag(this, 'source', 'æŠ–éŸ³')">æŠ–éŸ³å›æ”¶å¹¿å‘Š</div>
                        <div class="tag-item" onclick="toggleTag(this, 'source', 'è€å®¢æˆ·')">è€å®¢æˆ·æ¨è</div>
                        <div class="tag-item" onclick="toggleTag(this, 'source', 'å…¬æµ·')">å…¬æµ·å”¤é†’</div>
                    </div>
                </div>

                <!-- è·Ÿè¿›å®¢æœç­›é€‰ï¼ˆå¸¦åˆ†ç»„å’Œæœç´¢ï¼‰ -->
                <div class="filter-section" data-section="staff">
                    <div class="member-search">
                        <input type="text" class="member-search-input" placeholder="æœç´¢å®¢æœ" oninput="searchMember(this, 'staff')">
                        <span class="member-search-icon">ğŸ”</span>
                    </div>
                    <div class="member-groups" id="staffGroups">
                        <div class="member-group">
                            <div class="member-group-title">å®¢æœ1ç»„</div>
                            <div class="member-list">
                                <div class="member-item" onclick="toggleMember(this, 'staff', 'å¼ å°æ˜')">
                                    <span>å¼ å°æ˜</span>
                                    <span class="member-check">âœ“</span>
                                </div>
                                <div class="member-item" onclick="toggleMember(this, 'staff', 'æå')">
                                    <span>æå</span>
                                    <span class="member-check">âœ“</span>
                                </div>
                                <div class="member-item" onclick="toggleMember(this, 'staff', 'ç‹èŠ³')">
                                    <span>ç‹èŠ³</span>
                                    <span class="member-check">âœ“</span>
                                </div>
                            </div>
                        </div>
                        <div class="member-group">
                            <div class="member-group-title">å®¢æœ2ç»„</div>
                            <div class="member-list">
                                <div class="member-item" onclick="toggleMember(this, 'staff', 'èµµæ•')">
                                    <span>èµµæ•</span>
                                    <span class="member-check">âœ“</span>
                                </div>
                                <div class="member-item" onclick="toggleMember(this, 'staff', 'åˆ˜å¼º')">
                                    <span>åˆ˜å¼º</span>
                                    <span class="member-check">âœ“</span>
                                </div>
                                <div class="member-item" onclick="toggleMember(this, 'staff', 'é™ˆæ€')">
                                    <span>é™ˆæ€</span>
                                    <span class="member-check">âœ“</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- é‰´å®šå¸ˆç­›é€‰ï¼ˆå¸¦åˆ†ç»„å’Œæœç´¢ï¼‰ -->
                <div class="filter-section" data-section="appraiser">
                    <div class="member-search">
                        <input type="text" class="member-search-input" placeholder="æœç´¢é‰´å®šå¸ˆ" oninput="searchMember(this, 'appraiser')">
                        <span class="member-search-icon">ğŸ”</span>
                    </div>
                    <div class="member-groups" id="appraiserGroups">
                        <div class="member-group">
                            <div class="member-group-title">é‰´å®šå¸ˆ1ç»„</div>
                            <div class="member-list">
                                <div class="member-item" onclick="toggleMember(this, 'appraiser', 'å‘¨æ°')">
                                    <span>å‘¨æ°</span>
                                    <span class="member-check">âœ“</span>
                                </div>
                                <div class="member-item" onclick="toggleMember(this, 'appraiser', 'å´å½¦ç¥–')">
                                    <span>å´å½¦ç¥–</span>
                                    <span class="member-check">âœ“</span>
                                </div>
                            </div>
                        </div>
                        <div class="member-group">
                            <div class="member-group-title">é‰´å®šå¸ˆ2ç»„</div>
                            <div class="member-list">
                                <div class="member-item" onclick="toggleMember(this, 'appraiser', 'éƒ‘ç§€æ–‡')">
                                    <span>éƒ‘ç§€æ–‡</span>
                                    <span class="member-check">âœ“</span>
                                </div>
                                <div class="member-item" onclick="toggleMember(this, 'appraiser', 'å†¯æè«')">
                                    <span>å†¯æè«</span>
                                    <span class="member-check">âœ“</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- åº•éƒ¨æŒ‰é’® -->
        <div class="filter-footer">
            <button class="reset-btn" onclick="resetFilter()">é‡ç½®</button>
            <button class="confirm-btn" onclick="confirmFilter()">ç¡®è®¤</button>
        </div>
    </div>

    <!-- å…¨éƒ¨å“ç‰ŒäºŒçº§é¡µé¢ -->
    <div class="sub-page" id="allBrandsPage">
        <div class="sub-header">
            <span class="back-btn" onclick="closeAllBrands()">< è¿”å›</span>
            <span class="sub-title">å…¨éƒ¨å“ç‰Œ</span>
        </div>
        <div class="sub-content">
            <div class="member-search" style="margin-bottom: 15px;">
                <input type="text" class="member-search-input" placeholder="æœç´¢å“ç‰Œ" oninput="searchBrand(this)">
                <span class="member-search-icon">ğŸ”</span>
            </div>
            <div class="tag-list" id="allBrandsList">
                <div class="tag-item" onclick="toggleTag(this, 'brand', 'HermÃ¨s')">HermÃ¨s</div>
                <div class="tag-item" onclick="toggleTag(this, 'brand', 'Chanel')">Chanel</div>
                <div class="tag-item" onclick="toggleTag(this, 'brand', 'LV')">Louis Vuitton</div>
                <div class="tag-item" onclick="toggleTag(this, 'brand', 'Dior')">Dior</div>
                <div class="tag-item" onclick="toggleTag(this, 'brand', 'Gucci')">Gucci</div>
                <div class="tag-item" onclick="toggleTag(this, 'brand', 'Prada')">Prada</div>
                <div class="tag-item" onclick="toggleTag(this, 'brand', 'Bottega Veneta')">Bottega Veneta</div>
                <div class="tag-item" onclick="toggleTag(this, 'brand', 'Celine')">Celine</div>
                <div class="tag-item" onclick="toggleTag(this, 'brand', 'Fendi')">Fendi</div>
                <div class="tag-item" onclick="toggleTag(this, 'brand', 'Burberry')">Burberry</div>
                <div class="tag-item" onclick="toggleTag(this, 'brand', 'Givenchy')">Givenchy</div>
                <div class="tag-item" onclick="toggleTag(this, 'brand', 'Loewe')">Loewe</div>
                <div class="tag-item" onclick="toggleTag(this, 'brand', 'Valentino')">Valentino</div>
                <div class="tag-item" onclick="toggleTag(this, 'brand', 'Balenciaga')">Balenciaga</div>
                <div class="tag-item" onclick="toggleTag(this, 'brand', 'Saint Laurent')">Saint Laurent</div>
            </div>
        </div>
    </div>

    <!-- ç¤ºä¾‹åˆ—è¡¨å†…å®¹ -->
    <div class="content-area">
        <div class="list-item">
            <h3>ç¤ºä¾‹å•†å“ 1</h3>
            <p>å“ç‰Œ: HermÃ¨s | å“ç±»: æ‰‹è¢‹ | æˆè‰²: 95æ–°</p>
        </div>
        <div class="list-item">
            <h3>ç¤ºä¾‹å•†å“ 2</h3>
            <p>å“ç‰Œ: Chanel | å“ç±»: é…é¥° | æˆè‰²: å…¨æ–°</p>
        </div>
        <div class="list-item">
            <h3>ç¤ºä¾‹å•†å“ 3</h3>
            <p>å“ç‰Œ: Louis Vuitton | å“ç±»: æ‰‹è¢‹ | æˆè‰²: 9æˆæ–°</p>
        </div>
    </div>

    <script>
        // ç­›é€‰æ•°æ®å­˜å‚¨
        let filterData = {
            brand: [],
            category: [],
            condition: [],
            status: [],
            warehouse: null,
            createTime: { start: '', end: '' },
            firstFollow: [],
            followInterval: [],
            source: [],
            staff: [],
            appraiser: []
        };

        // åˆ‡æ¢æ’åºä¸‹æ‹‰
        function toggleSort() {
            const dropdown = document.getElementById('sortDropdown');
            const overlay = document.getElementById('overlay');
            dropdown.classList.toggle('show');
            overlay.classList.toggle('show');
        }

        // é€‰æ‹©æ’åº
        function selectSort(element, type) {
            document.querySelectorAll('.sort-option').forEach(opt => opt.classList.remove('active'));
            element.classList.add('active');
            closeAll();
        }

        // æ‰“å¼€ç­›é€‰é¢æ¿
        function openFilter() {
            const panel = document.getElementById('filterPanel');
            const overlay = document.getElementById('overlay');
            panel.classList.add('show');
            overlay.classList.add('show');
        }

        // å…³é—­æ‰€æœ‰å¼¹çª—
        function closeAll() {
            document.getElementById('sortDropdown').classList.remove('show');
            document.getElementById('filterPanel').classList.remove('show');
            document.getElementById('overlay').classList.remove('show');
        }

        // åˆ‡æ¢ç­›é€‰å¯¼èˆª
        function switchFilter(element) {
            // æ›´æ–°å¯¼èˆªæ¿€æ´»çŠ¶æ€
            document.querySelectorAll('.filter-nav-item').forEach(item => item.classList.remove('active'));
            element.classList.add('active');

            // æ›´æ–°å†…å®¹åŒºåŸŸ
            const filterType = element.getAttribute('data-filter');
            document.querySelectorAll('.filter-section').forEach(section => section.classList.remove('active'));
            document.querySelector(`[data-section="${filterType}"]`).classList.add('active');
        }

        // åˆ‡æ¢æ ‡ç­¾é€‰æ‹©ï¼ˆå¤šé€‰ï¼‰
        function toggleTag(element, type, value) {
            element.classList.toggle('selected');

            if (element.classList.contains('selected')) {
                if (!filterData[type].includes(value)) {
                    filterData[type].push(value);
                }
            } else {
                filterData[type] = filterData[type].filter(item => item !== value);
            }

            updateFilterUI();
        }

        // åˆ‡æ¢å•é€‰æŒ‰é’®
        function toggleRadio(element, type, value) {
            // æ¸…é™¤åŒç»„å…¶ä»–é€‰é¡¹
            element.closest('.radio-list').querySelectorAll('.radio-item').forEach(item => {
                item.classList.remove('selected');
            });

            // é€‰ä¸­å½“å‰é¡¹
            element.classList.add('selected');
            filterData[type] = value;

            updateFilterUI();
        }

        // åˆ‡æ¢æˆå‘˜é€‰æ‹©
        function toggleMember(element, type, value) {
            element.classList.toggle('selected');

            if (element.classList.contains('selected')) {
                if (!filterData[type].includes(value)) {
                    filterData[type].push(value);
                }
            } else {
                filterData[type] = filterData[type].filter(item => item !== value);
            }

            updateFilterUI();
        }

        // æ›´æ–°æ—¶é—´ç­›é€‰
        function updateTimeFilter() {
            const startDate = document.getElementById('startDate').value;
            const endDate = document.getElementById('endDate').value;

            filterData.createTime = { start: startDate, end: endDate };
            updateFilterUI();
        }

        // æ›´æ–°ç­›é€‰UI
        function updateFilterUI() {
            // è®¡ç®—æ€»é€‰æ‹©æ•°
            let totalCount = 0;

            // å¤šé€‰ç±»å‹
            ['brand', 'category', 'condition', 'status', 'firstFollow', 'followInterval', 'source', 'staff', 'appraiser'].forEach(key => {
                totalCount += filterData[key].length;
            });

            // å•é€‰ç±»å‹
            if (filterData.warehouse && filterData.warehouse !== 'å…¨éƒ¨') totalCount++;

            // æ—¶é—´èŒƒå›´
            if (filterData.createTime.start || filterData.createTime.end) totalCount++;

            // æ›´æ–°æ€»æ•°æ˜¾ç¤º
            document.getElementById('filterCount').textContent = `å·²é€‰ ${totalCount} é¡¹`;

            const badge = document.getElementById('filterBadge');
            if (totalCount > 0) {
                badge.textContent = totalCount;
                badge.classList.add('show');
                document.getElementById('filterBtn').classList.add('active');
            } else {
                badge.classList.remove('show');
                document.getElementById('filterBtn').classList.remove('active');
            }

            // æ›´æ–°å¯¼èˆªæ ‡è®°
            document.querySelectorAll('.filter-nav-item').forEach(item => {
                const filterType = item.getAttribute('data-filter');
                let hasSelection = false;

                if (Array.isArray(filterData[filterType])) {
                    hasSelection = filterData[filterType].length > 0;
                } else if (filterType === 'warehouse') {
                    hasSelection = filterData[filterType] && filterData[filterType] !== 'å…¨éƒ¨';
                } else if (filterType === 'createTime') {
                    hasSelection = filterData[filterType].start || filterData[filterType].end;
                }

                if (hasSelection) {
                    item.classList.add('has-selection');
                } else {
                    item.classList.remove('has-selection');
                }
            });

            // æ›´æ–°å·²é€‰æ ‡ç­¾æ˜¾ç¤º
            updateSelectedTags();
        }

        // æ›´æ–°å·²é€‰æ ‡ç­¾
        function updateSelectedTags() {
            const container = document.getElementById('selectedTags');
            container.innerHTML = '';

            let hasSelection = false;

            // å¤„ç†å¤šé€‰é¡¹
            const multiSelectTypes = {
                brand: 'å“ç‰Œ',
                category: 'å“ç±»',
                condition: 'æˆè‰²',
                status: 'çŠ¶æ€',
                firstFollow: 'é¦–æ¬¡è·Ÿè¿›',
                followInterval: 'è·Ÿè¿›é—´éš”',
                source: 'æ¥æº',
                staff: 'å®¢æœ',
                appraiser: 'é‰´å®šå¸ˆ'
            };

            for (let [key, label] of Object.entries(multiSelectTypes)) {
                filterData[key].forEach(value => {
                    hasSelection = true;
                    const tag = document.createElement('div');
                    tag.className = 'selected-tag';
                    tag.innerHTML = `
                        <span>${label}: ${value}</span>
                        <span class="selected-tag-close" onclick="removeTag('${key}', '${value}')">âœ•</span>
                    `;
                    container.appendChild(tag);
                });
            }

            // å¤„ç†å•é€‰é¡¹
            if (filterData.warehouse && filterData.warehouse !== 'å…¨éƒ¨') {
                hasSelection = true;
                const tag = document.createElement('div');
                tag.className = 'selected-tag';
                tag.innerHTML = `
                    <span>ä»“åº“: ${filterData.warehouse}</span>
                    <span class="selected-tag-close" onclick="removeWarehouse()">âœ•</span>
                `;
                container.appendChild(tag);
            }

            // å¤„ç†æ—¶é—´èŒƒå›´
            if (filterData.createTime.start || filterData.createTime.end) {
                hasSelection = true;
                const tag = document.createElement('div');
                tag.className = 'selected-tag';
                const timeText = `${filterData.createTime.start || 'å§‹'} ~ ${filterData.createTime.end || 'ä»Š'}`;
                tag.innerHTML = `
                    <span>åˆ›å»ºæ—¶é—´: ${timeText}</span>
                    <span class="selected-tag-close" onclick="removeTime()">âœ•</span>
                `;
                container.appendChild(tag);
            }

            container.classList.toggle('show', hasSelection);
        }

        // ç§»é™¤æ ‡ç­¾
        function removeTag(type, value) {
            filterData[type] = filterData[type].filter(item => item !== value);

            // æ›´æ–°UIä¸­çš„é€‰ä¸­çŠ¶æ€
            document.querySelectorAll('.tag-item, .member-item').forEach(el => {
                if (el.textContent.trim() === value || el.querySelector('span')?.textContent === value) {
                    el.classList.remove('selected');
                }
            });

            updateFilterUI();
        }

        // ç§»é™¤ä»“åº“é€‰æ‹©
        function removeWarehouse() {
            filterData.warehouse = null;
            document.querySelectorAll('[data-section="warehouse"] .radio-item').forEach(el => {
                el.classList.remove('selected');
            });
            updateFilterUI();
        }

        // ç§»é™¤æ—¶é—´èŒƒå›´
        function removeTime() {
            filterData.createTime = { start: '', end: '' };
            document.getElementById('startDate').value = '';
            document.getElementById('endDate').value = '';
            updateFilterUI();
        }

        // é‡ç½®ç­›é€‰
        function resetFilter() {
            filterData = {
                brand: [],
                category: [],
                condition: [],
                status: [],
                warehouse: null,
                createTime: { start: '', end: '' },
                firstFollow: [],
                followInterval: [],
                source: [],
                staff: [],
                appraiser: []
            };

            // æ¸…é™¤æ‰€æœ‰é€‰ä¸­çŠ¶æ€
            document.querySelectorAll('.tag-item, .member-item, .radio-item').forEach(el => {
                el.classList.remove('selected');
            });

            // æ¸…é™¤æ—¶é—´è¾“å…¥
            document.getElementById('startDate').value = '';
            document.getElementById('endDate').value = '';

            updateFilterUI();
        }

        // ç¡®è®¤ç­›é€‰
        function confirmFilter() {
            console.log('ç­›é€‰æ¡ä»¶:', filterData);
            closeAll();
            // è¿™é‡Œå¯ä»¥è°ƒç”¨å®é™…çš„æ•°æ®ç­›é€‰é€»è¾‘
            alert('ç­›é€‰å·²åº”ç”¨ï¼æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºçš„ç­›é€‰æ¡ä»¶ã€‚');
        }

        // æ‰“å¼€å…¨éƒ¨å“ç‰Œé¡µé¢
        function openAllBrands() {
            document.getElementById('allBrandsPage').classList.add('show');
        }

        // å…³é—­å…¨éƒ¨å“ç‰Œé¡µé¢
        function closeAllBrands() {
            document.getElementById('allBrandsPage').classList.remove('show');
        }

        // æœç´¢å“ç‰Œ
        function searchBrand(input) {
            const keyword = input.value.toLowerCase();
            const items = document.querySelectorAll('#allBrandsList .tag-item');

            items.forEach(item => {
                const text = item.textContent.toLowerCase();
                if (text.includes(keyword)) {
                    item.style.display = '';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        // æœç´¢æˆå‘˜
        function searchMember(input, type) {
            const keyword = input.value.toLowerCase();
            const container = type === 'staff' ? 'staffGroups' : 'appraiserGroups';
            const groups = document.querySelectorAll(`#${container} .member-group`);

            groups.forEach(group => {
                const items = group.querySelectorAll('.member-item');
                let hasVisible = false;

                items.forEach(item => {
                    const text = item.textContent.toLowerCase();
                    if (text.includes(keyword)) {
                        item.style.display = '';
                        hasVisible = true;
                    } else {
                        item.style.display = 'none';
                    }
                });

                // å¦‚æœç»„å†…æ²¡æœ‰å¯è§é¡¹ï¼Œéšè—ç»„æ ‡é¢˜
                const title = group.querySelector('.member-group-title');
                title.style.display = hasVisible ? '' : 'none';
            });
        }

        // æ¸…é™¤æœç´¢
        function clearSearch() {
            document.querySelector('.search-input').value = '';
        }

        // ç‚¹å‡»å¤–éƒ¨å…³é—­ä¸‹æ‹‰èœå•
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.sort-btn') && !e.target.closest('.sort-dropdown')) {
                document.getElementById('sortDropdown').classList.remove('show');
            }
        });
    </script>
</body>
</html>